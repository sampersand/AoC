# Day 14 in perl.
# we had to simulate a part of a computer.
open STDIN,"day14.txt"; # omit this if reading from sdib.


 for  (+  <>  ){  m#  k\  =\  #x  ?($
 n=1  ,$  M=  $'  ):  /(  \d  +)  ]\s
=/x;$n&&($n=0,next);$_=$M;$v=$';$x=$1;
;sub  p{  sprintf    shift,@_}7   ;sub
b{$T  =0  ;split     "",p"%36     b"=~
s#\         ##rgx,   pop}s#   /?  X#%d
#xg;  s#  0|1#$&%.   0s#gx  ;;s#  ?|Q|
##g;  $o  {$x}=oct   p("0   b$_"  ,b$v
)=~s  7\  ?77gr;$_   =$M   ;s#0#  %d#g
;s          @1|X@$   &%.            0s
@g;s  @Q  |\s@@gx;   $_=p$_,b$x;  for$
i(+1  ..  2**s#         X#%d#gx)  {$t{
p$_,reverse+b$i}=$v}}$_='print"PartS1:
 S",  ev  al  (j  oi  n"  +"  ,v  alu
 es%  o)  ,"  NP  ar  tS  2:  S"  ,ev

al(join"+",values%t),"N"';s#\s##g;y#NS
#\n #;eval# A "decode chiper". Day 14.

# Day 18, in perl.
# We helped a kid with math on a plane.

open STDIN,'day18.txt'; # Omit this if reading from stdin

                                        %
                                        X
                                        =
                                  $_=q($l=join#
                                        +
                                    #,map{y/
                                 */-/;s/\d+/ble
                               ss([$&])/g;#($_)#}
<>;useS                       overload#+#,$x=sub{bl                       ess[$_[
    0][0]+$_[1][0]            ]},#/#,$x,#*#,$y=sub{            bless[$_[0][0]
              *$_[1][0]]},#-#,$y;print#PartS1:S#,eval($l)->[0],#\nP
                     artS      2:S#,eval($l=~y#+#/      #r)-
                    >[0],#       \n#;),s/\s//g,y       @#S@"\ 
                     @;3;                               eval

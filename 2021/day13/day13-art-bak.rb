$stdin = open('day13.txt')

P=gets("")[..-2].lines.map{eval"[#{_1}]"}
####################################################
#                                                  #
#    ##  ###   ####   ##   #  #   ##   #  #  ###   #
#     #  #  #     #  #  #  #  #  #  #  #  #  #  #  #
#     #  #  #    #   #     #  #  #  #  #  #  #  #  #
#     #  ###    #    #     #  #  ####  #  #  ###   #
#  #  #  #     #     #  #  #  #  #  #  #  #  # #   #
#   ##   #     ####   ##    ##   #  #   ##   #  #  #
#                                                  #
####################################################

$<.map{
  _1=~/(\w)=(\d+)/;n=$2.to_i
  P.map!{|a,b|$1==?y?[a,b<n ?b:2*n-b]:[a<n ?a:2*n-a,b]}
}

M=Array.new(P.map{_1[-1]}.max+1){?.*P.map{_1[0]}.max+?.}
P.map{M[_2][_1]=?#}
puts M


$stdin = open('day13.txt')

P=gets("").chomp.lines.map{eval"[#{_1}]"};$<.map{/(.
####################################################
)                                                  =
+    /x  .=~   _1;    n=    $'      .  to_i  P 
#    ##  ###   ###    ##    ##   #  #  ####  #  #  #
#     #  #  #  #  #  #  #  #  #  #  #     #  #  #  #
#     #  #  #  #  #  #     #  #  #  #    #   #  #  #
#     #  ###   ###   #     ####  #  #   #    #  #  #
#  #  #  #     # #   #  #  #  #  #  #  #     #  #  #
#   ##   #     #  #   ##   #  #   ##   ####   ##   #
#                                                  #
####################################################


  P.map!{|a,b|$1==?y?[a,b<n ? b:2*n-b]:[a<n ? a:2*n-a,b]}
}
M=Array.new(P.map{_1[-1]}.max+1){?.*P.map{_1[0]}.max+?.}
P.map{M[_2][_1]=?#}
puts M


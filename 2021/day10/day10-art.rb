$stdin=open('day10.txt')

o=0;t=[]
$<.map{|l|
  0while l.gsub! /\[\]|\(\)|\{\}|<>|\n/,''
  l=~/[\])}>]/?
    # o+={?)=>3,?]=>57,?}=>1197,?>=>25137}[$&]:
    o+={**[[?),3],[?],57],[?},1197],[?>,25137]]}[$&]:
    t<<(s=0;l.reverse.chars{|c|s=s*5+1+(c=~/[(\[{<]/)};s)
}

puts o
puts t.sort[t.size/2]
